<div fxLayout="row" fxLayoutAlign="space-between center" fxLayout.xs="column">
<h2>Department</h2>

</div>



<mat-card class="example-card">


  <div class="for_add" *ngIf="!showEdit" >
      <mat-card-header>
   
    <mat-card-title>Add Department</mat-card-title>
    
  </mat-card-header>
    <form #departmentAddForm="ngForm" (ngSubmit)="AddDepartment(departmentAddForm.value)">
<div fxLayout="row" fxLayout.xs="column"  fxLayoutAlign="start center" fxLayoutWrap> 
  

  <div class="input-control"  fxFlex="33.33%" fxFlex.sm="50%">
    <div>
      <mat-form-field fxFlex>
  <input matInput #departmentref="ngModel" required placeholder="Department" name="department" [(ngModel)]="department" value="">

</mat-form-field>

    </div>
    <div class="error-msg-block" *ngIf="departmentref.errors && (departmentref.dirty || departmentref.touched)">
    <div [hidden]="!departmentref.errors.required" class="error-msg">
      Please enter the department
  </div>
</div>
  </div>



    <div class="input-control"  fxFlex="33.33%" fxFlex.sm="50%">
     <button type="submit" color="primary" mat-raised-button>Add</button>
     
  </div>
  </div>
  </form>
  </div>


  <div class="for_update" *ngIf="showEdit">
      <mat-card-header>
   
    <mat-card-title>Edit Department<button type="button" color="" (click)="showAdd()" mat-raised-button>Add New</button></mat-card-title>
    
  </mat-card-header>
 <form #departmentEditForm="ngForm" (ngSubmit)="updateDepartment()">
<div fxLayout="row" fxLayout.xs="column"  fxLayoutAlign="start center" fxLayoutWrap> 
  

  <div class="input-control"  fxFlex="33.33%" fxFlex.sm="50%">
    <div>
      <mat-form-field fxFlex>
  <input matInput #departmentref="ngModel" required placeholder="Department" name="department" [(ngModel)]="selected_details.department" value="">

</mat-form-field>

    </div>
    <div class="error-msg-block" *ngIf="departmentref.errors && (departmentref.dirty || departmentref.touched)">
    <div [hidden]="!departmentref.errors.required" class="error-msg">
      Please enter the department
  </div>
</div>
  </div>



    <div class="input-control"  fxFlex="33.33%" fxFlex.sm="50%">
     <button type="submit" color="primary" mat-raised-button>Update</button>
     
  </div>
  </div>
  </form>
  </div>



  <mat-card-content>

  </mat-card-content>

</mat-card>

<mat-card class="example-card">


  <mat-card-content>



  <ngx-datatable
        [rows]="departments"      
        [columnMode]="'force'"
        [headerHeight]="50"
        [rowHeight]="'auto'"
        [footerHeight]="0" 
        [limit]="5"     
         class="fullscreen">
         <ngx-datatable-column name="S.No" width="80">
          <ng-template let-rowIndex="rowIndex" let-row="row" ngx-datatable-cell-template>
            <strong>{{rowIndex+1}}</strong>
          </ng-template>
        </ngx-datatable-column>
         <ngx-datatable-column name="Department"></ngx-datatable-column>        

          <ngx-datatable-column  [sortable]="false" [canAutoResize]="false" [draggable]="false" [resizeable]="false">
              <ng-template ngx-datatable-header-template let-value="value" >
               <span>Actions</span>
              </ng-template>

              <ng-template ngx-datatable-cell-template let-row="row" let-value="value">
                    <button mat-raised-button (click)="updateDetails(row)">Edit</button>
                   
         <button mat-raised-button (click)="deleteDepartment(row)">Delete</button>
                 
              </ng-template>
          </ngx-datatable-column>

          
         
      </ngx-datatable>
      
  </mat-card-content>

</mat-card>